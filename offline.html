<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script type="text/javascript;version=1.7" src="protopy.js"></script>
    <!--   >script type="text/javascript;version=1.7" src="/blog/blog.js"></script -->
    <script type="text/javascript;version=1.7">
		


	</script>
</head>
<body style="font-family: Verdana; font-size: 13px;">
	<h1>Pruebas de offline</h1>
	<p style="border: 1px dotted #cea; padding: 4px;">
		<a href="/blog/1/" onClick="return link_handler(this);">Link 1</a>
		<a href="/blog/2/">Link 2</a>
		<a href="/blog/3/">Link 3</a>
		<br />
		<button onClick="offline_support.go_offline()">Go offline</button>
	</p>
	<script type="text/javascript;version=1.7">


			$L('doff.core.offline_support');
			$L('event');
			function link_handler(element){	
				alert('hola');
				print('hola', this, arguments);
				return false;
			}


			var Clase = type('Clase', {

			__init__: function (){
				console.log('me construyo');
			},
			listener: function () {
				console.log('This: ', this, 'Arguments: ', arguments);
			}
 
			});

			var x = new Clase();
		
			try {
			console.log('esto es un script');
			var e = document.getElementsByTagName('a')[1];
			// console.log('Elemento', e);
			var hdlr = event.connect(e, 'click', getattr(x, 'listener') );
			// e.addEventListener('click', link_handler, false);
			e.setAttribute('href', 'javascript:void(0);');
			
			} catch(e) {console.log('Error', e);}
		
	</script>
</body>